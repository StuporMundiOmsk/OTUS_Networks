# STP

## Задание:
1. Собрать схему и выполнить базовую настройку
2. Понаблюдать за выбором корневого моста в указанных обстоятельствах
3. После вмешательства в свободный рынок посмотреть, как последние становятся первыми
4. Закрыть глаза, включить все порты, довериться невидимой руке PVST и попытаться осознать, что произошло


## Схема:
![alt-текст](https://github.com/StuporMundiOmsk/OTUS_Networks/blob/main/Homeworks/00_STP_Basis/%D0%A2%D0%BE%D0%BF%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F_STP.jpg "Топология STP")



## Документация (интерфейсы управления на единственном вилане):
|    Оборудование  |  Интерфейс   | IP-адрес        | 
|:----------------:|:------------:|:---------------:|                                                                                       
| S1               |     VLAN 1   | 192.168.1.1/24  |
|    S2            |  VLAN 1      | 192.168.1.2/24  |
|      S3          |  VLAN 1      | 192.168.1.3/24  |    



## Решение:
1) На коммутаторах (аналогично) выполнены общие настройки (все то, что попросили в методичке; аукс оставлен открытым для друзей и близких):    
service password-encryption  
service compress-config  
!  
hostname S1  
!  
boot-start-marker  
boot-end-marker  
!  
!  
enable secret 5 $1$0AFo$Igp2pnqGPRY60m3/IEo7N1    
!  
...  
!  
interface Vlan1  
 ip address 192.168.1.1 255.255.255.0  
!  
ip forward-protocol nd  
!  
no ip http server  
no ip http secure-server  
!  
!  
!  
!  
!  
!  
control-plane  
!  
banner motd ^CUnauthorized access is strictly prohibited!!!^C  
!  
line con 0  
 password 7 094F471A1A0A  
 logging synchronous  
 login  
line aux 0  
line vty 0 4  
 password 7 0822455D0A16  
 login  
 
 
 
2) На коммутаторах настроен указанный режим работы и отдыха портов, запущенный автоматом PVST отработал, выборы среди двух и более кандидатов состоялись, нарушений не выявлено:  
![alt-текст](https://github.com/StuporMundiOmsk/OTUS_Networks/blob/main/Homeworks/00_STP_Basis/%D0%92%D1%8B%D0%B1%D0%BE%D1%80%D1%8B_1.jpg "Выборы старосты")  

Блок рассуждений по пункту 2:  
Корневым мостом стал S3 по старшинству, т.к. идентификаторы кандидатов равны. Оба включенных порта на нем стали назначенными.
На S1 Et0/3 стал корневым, т.к. зрит в корень, а Et0/1 стал назначенным для своего сегмента (в котором сиротливый S2).  
На S2 Et0/3 стал корневым, т.к. зрит в корень, а Et0/1 довольствуется ролью запасного аэропорта на случай, если более дешевая связь с метрополией пропадет.
 
 
 
3) На некорневых коммутаторах затеяны игры со стоимостью
![alt-текст](https://github.com/StuporMundiOmsk/OTUS_Networks/blob/main/Homeworks/00_STP_Basis/%D0%92%D1%8B%D0%B1%D0%BE%D1%80%D1%8B_2.jpg "Выборы для бедных")  

Блок рассуждений по пункту 3:  
После уменьшения стоимости пути от S2 до корня, несчастный S2 воспрял и почувствовал ветер перемен, ведь теперь метрополия стала ближе к аборигенам, и, в случае потери прямой дороги от S1 до S3, все караваны вынуждены будут идти через S2! Кажется, можно взвинтить акцизы и построить новый оазис падишаху!

  
4) На коммутаторах включены все порты
![alt-текст](https://github.com/StuporMundiOmsk/OTUS_Networks/blob/main/Homeworks/00_STP_Basis/%D0%92%D1%8B%D0%B1%D0%BE%D1%80%D1%8B_3.jpg "Новый мировой порядок") 

Блок рассуждений по пункту 4:
S3 остался корневым рутом - коней на переправе не меняют. Все его порты по-прежнему назначенные.  
На S1 корневым стал Et0/2, потому что со стороный корня он так же подключен в более значимый Et0/2, при прочих равных. Et0/0 и Et0/1 стали назначенными для своих сегментов, потому что дедовщина. Et0/3 смирился с местом на скамейке запасных.  
На S2, кроме корневого Et0/2, подключенного в Et0/0 корня, все остальные - на обочине. Но они тоже достойны нашего внимания. Кто знает, как все может обернуться совсем скоро?.. 






